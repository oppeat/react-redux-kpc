(this["webpackJsonpreact-redux-kpc"]=this["webpackJsonpreact-redux-kpc"]||[]).push([[0],{403:function(e,t,n){},404:function(e,t,n){},554:function(e,t,n){"use strict";n.r(t);var c=n(7),i=n(0),a=n.n(i),r=n(65),l=n.n(r),d=(n(403),n.p,n(404),n(608)),s=n(38),o=n(604),j=n(605),b=n(297),u=n(113),O=n(354),h=n(48),x=n(347),p=n(291),m=n(348),v=[{key:"m",text:"Male",value:"Male"},{key:"f",text:"Female",value:"Female"},{key:"o",text:"Unisex",value:"Unisex"}],f=[{key:"mr",text:"Mr.",value:"Mr."},{key:"ms",text:"Ms.",value:"Ms."},{key:"mrs",text:"Mrs.",value:"Mrs."}],g=[{key:"th",text:"Thai",value:"Thai"},{key:"us",text:"America",value:"American"},{key:"la",text:"Laos",value:"Laos"}],y=[{key:"th",flag:"th",text:"+66",value:"+66"},{key:"us",flag:"us",text:"+1",value:"+1"},{key:"la",flag:"la",text:"+865",value:"+865"}],E=function(e){var t=e.meta;return[Object(c.jsx)(o.a.Input,Object(s.a)({},e),e.input.name),t.invalid&&Object(c.jsx)(j.a,{content:t.error,negative:!0},e.input.name+"Msg")]},C=function(e){var t=e.meta;return[Object(i.createElement)(o.a.Dropdown,Object(s.a)(Object(s.a)({},e),{},{key:e.input.name,value:e.input.value,onChange:function(t,n){return e.input.onChange(n.value)}})),t.invalid&&Object(c.jsx)(j.a,{content:t.error,negative:!0},e.input.name+"Msg")]},D=function(e){var t=e.meta;return[Object(c.jsx)(O.DateInput,{value:e.input.value,onChange:function(t,n){return e.input.onChange(n.value)}},e.input.name),t.invalid&&Object(c.jsx)(j.a,{content:t.error,negative:!0},e.input.name+"Msg")]},k=function(e){var t=e.meta;return[Object(c.jsxs)(o.a.Group,Object(s.a)(Object(s.a)({unstackable:!0,inline:!0},e),{},{children:[Object(c.jsx)(x.a,{fluid:!0,options:y,placeholder:"Code",name:"prefix",component:C}),Object(c.jsx)("label",{children:"-"}),Object(c.jsx)(x.a,{component:E,style:{padding:"0"},width:12,placeholder:"Mobile No",name:"mobileno"})]}),"mobileInput"),t.invalid&&Object(c.jsx)(j.a,{content:t.error,negative:!0},"mobileMsg")]},L=function(e){var t=e.meta;return[Object(c.jsx)(o.a.Input,Object(s.a)({},e),e.input.name),Object(c.jsx)("label",{children:"THB"},"label"),t.invalid&&Object(c.jsx)(j.a,{content:t.error,negative:!0},e.input.name+"Msg")]},_=function(e){if(!e||""===e)return"This field is required"},M=function(e){return e&&/[^a-zA-Z ]/i.test(e)?"Only alphabet characters":void 0},T=function(e){return e&&/[^0-9 ]/i.test(e)?"Only numeric characters":void 0},w=Object(m.a)({form:"registration-form",enableReinitialize:!0})((function(e){var t,n,i=e.valid,a=e.recordId,r=(e.initialValues,e.setOpen),l=Object(h.c)(),d=Object(h.d)((function(e){return e.form["registration-form"]}));return Object(c.jsx)(b.a,{raised:!0,children:Object(c.jsxs)(o.a,{style:{width:"80%",margin:"auto"},children:[!a&&Object(c.jsx)("h1",{children:"Add a Record"}),Object(c.jsxs)(o.a.Group,{children:[Object(c.jsxs)(o.a.Field,{inline:!0,width:4,required:!0,children:[Object(c.jsx)("label",{children:"Title"}),Object(c.jsx)(x.a,{fluid:!0,options:f,placeholder:"Title",name:"title",component:C,validate:_})]}),Object(c.jsxs)(o.a.Field,{inline:!0,width:6,required:!0,children:[Object(c.jsx)("label",{children:"Firstname"}),Object(c.jsx)(x.a,{name:"firstname",placeholder:"First name",component:E,validate:[_,M]})]}),Object(c.jsxs)(o.a.Field,{inline:!0,width:6,required:!0,children:[Object(c.jsx)("label",{children:"Lastname"}),Object(c.jsx)(x.a,{name:"lastname",placeholder:"Last name",component:E,validate:[_,M]})]})]}),Object(c.jsxs)(o.a.Group,{children:[Object(c.jsxs)(o.a.Field,{inline:!0,width:6,required:!0,children:[Object(c.jsx)("label",{children:"Birthday"}),Object(c.jsx)(x.a,{name:"birthday",placeholder:"Date",iconPosition:"left",component:D,validate:_})]}),Object(c.jsxs)(o.a.Field,{inline:!0,width:10,children:[Object(c.jsx)("label",{children:"Nationality"}),Object(c.jsx)(x.a,{fluid:!0,options:g,placeholder:"Nationality",name:"nationality",component:C})]})]}),Object(c.jsx)(o.a.Group,{children:Object(c.jsxs)(o.a.Field,{width:10,children:[Object(c.jsx)("label",{children:"Citizen ID."}),Object(c.jsxs)(o.a.Group,{unstackable:!0,inline:!0,children:[Object(c.jsx)(x.a,{component:E,style:{padding:"0"},width:2,placeholder:"x",name:"citizen-1",maxLength:"1"}),Object(c.jsx)("label",{children:"-"}),Object(c.jsx)(x.a,{component:E,style:{padding:"0"},width:3,placeholder:"xxxx",name:"citizen-2",maxLength:"4"}),Object(c.jsx)("label",{children:"-"}),Object(c.jsx)(x.a,{component:E,style:{padding:"0"},width:3,placeholder:"xxxxx",name:"citizen-3",maxLength:"5"}),Object(c.jsx)("label",{children:"-"}),Object(c.jsx)(x.a,{component:E,style:{padding:"0"},width:2,placeholder:"xx",name:"citizen-4",maxLength:"2"}),Object(c.jsx)("label",{children:"-"}),Object(c.jsx)(x.a,{component:E,style:{padding:"0"},width:2,placeholder:"x",name:"citizen-5",maxLength:"1"})]})]})}),Object(c.jsxs)(o.a.Group,{children:[Object(c.jsxs)(o.a.Field,{width:5,children:[Object(c.jsx)("label",{children:"Gender"}),Object(c.jsx)(o.a.Group,{style:{padding:"0.5em"},children:Object(c.jsx)(o.a.Field,{children:Object(c.jsx)("div",{className:"ui radio",children:v.map((function(e){return Object(c.jsxs)("label",{className:"radio-label",children:[Object(c.jsx)(x.a,{name:"gender",component:"input",type:"radio",value:e.value})," ",e.text]},e.key)}))})})})]}),Object(c.jsxs)(o.a.Field,{width:13,required:!0,children:[Object(c.jsx)("label",{children:"Mobile No."}),Object(c.jsx)(x.a,{name:"mobileFull",component:k,validate:(null===d||void 0===d||null===(t=d.values)||void 0===t?void 0:t.prefix)&&(null===d||void 0===d||null===(n=d.values)||void 0===n?void 0:n.mobileno)?void 0:_})]})]}),Object(c.jsx)(o.a.Group,{children:Object(c.jsxs)(o.a.Field,{inline:!0,width:8,children:[Object(c.jsx)("label",{children:"Passport No."}),Object(c.jsx)(x.a,{component:E,placeholder:"Passport No.",name:"passport"})]})}),Object(c.jsx)(o.a.Group,{children:Object(c.jsxs)(o.a.Field,{inline:!0,required:!0,children:[Object(c.jsx)("label",{children:"Expected Salary"}),Object(c.jsx)(o.a.Group,{unstackable:!0,inline:!0,width:6,children:Object(c.jsx)(x.a,{component:L,placeholder:"",name:"salary",validate:[_,T]})})]})}),!a&&Object(c.jsx)(u.a,{disabled:!i,primary:!0,onClick:function(){return e=Object(s.a)({},d.values),l(function(e){return{type:"ADD_RECORD",record:e}}(e)),void l(Object(p.a)("registration-form"));var e},children:"Submit"}),a&&Object(c.jsxs)("div",{style:{textAlign:"right"},children:[Object(c.jsx)(u.a,{color:"black",onClick:function(){return r(!1)},children:"Cancel"}),Object(c.jsx)(u.a,{disabled:!i,positive:!0,labelPosition:"right",icon:"checkmark",content:"Save Changes",onClick:function(){return e=Object(s.a)({},d.values),r(!1),void l(function(e){return{type:"UPDATE_RECORD",record:e}}(e));var e}})]})]})})})),R=n(358),S=n(252),A=n(302),I=n(606),F=n(607),P=n(45),N=n(609);var G=function(e){var t=e.recordId,n=e.oldData,i=a.a.useState(!1),r=Object(S.a)(i,2),l=r[0],d=r[1];return Object(c.jsxs)(N.a,{onClose:function(){return d(!1)},onOpen:function(){return d(!0)},open:l,trigger:Object(c.jsxs)(u.a,{animated:"vertical",color:"grey",children:[Object(c.jsx)(u.a.Content,{hidden:!0,children:"Edit"}),Object(c.jsx)(u.a.Content,{visible:!0,children:Object(c.jsx)(P.a,{name:"edit"})})]}),children:[Object(c.jsx)(N.a.Header,{children:"Edit Record"}),Object(c.jsx)(N.a.Content,{children:Object(c.jsx)(w,{recordId:t,initialValues:n||null,setOpen:d})}),Object(c.jsx)(N.a.Actions,{})]})};function U(){var e=Object(i.useState)(1),t=Object(S.a)(e,2),n=t[0],a=t[1],r=Object(h.d)((function(e){return e.records})),l=Object(h.d)((function(e){return e.selected.selected})),d=r.records.length,s=1;0!==d&&(s=Math.ceil(d/10)),0==s&&(s+=1);var o=r.records.slice(10*(n-1),10*n),j=Object(h.c)();function O(){if(0===o.length)return!1;var e,t=Object(R.a)(o);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(-1===(null===l||void 0===l?void 0:l.indexOf(n.id)))return!1}}catch(c){t.e(c)}finally{t.f()}return!0}return Object(c.jsxs)(b.a,{raised:!0,children:[Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{style:{display:"inline-block"},children:[Object(c.jsx)(A.a,{style:{margin:"0 1em"},label:"Select All",checked:O(),onClick:function(){return O()?j({type:"REMOVE_SELECT_MULTIPLE",ids:o.map((function(e){return e.id}))}):j(function(e){return{type:"ADD_SELECT_MULTIPLE",ids:e}}(o.map((function(e){return e.id}))))}}),Object(c.jsx)(u.a,{style:{margin:"0 1em"},color:"red",onClick:function(){return j({type:"DELETE_RECORD_MULTIPLE",ids:l})},children:"Delete"})]}),Object(c.jsx)(I.a,{size:"small",activePage:n,totalPages:s,onPageChange:function(e,t){var n=t.activePage;return a(n)}})]}),Object(c.jsxs)(F.a,{celled:!0,compact:!0,definition:!0,children:[Object(c.jsx)(F.a.Header,{fullWidth:!0,children:Object(c.jsxs)(F.a.Row,{children:[Object(c.jsx)(F.a.HeaderCell,{}),Object(c.jsx)(F.a.HeaderCell,{children:"Name"}),Object(c.jsx)(F.a.HeaderCell,{children:"Gender"}),Object(c.jsx)(F.a.HeaderCell,{children:"Mobile Phone"}),Object(c.jsx)(F.a.HeaderCell,{children:"Nationality"}),Object(c.jsx)(F.a.HeaderCell,{textAlign:"center",children:"Actions"})]})}),Object(c.jsx)(F.a.Body,{children:o.map((function(e){return Object(c.jsxs)(F.a.Row,{children:[Object(c.jsx)(F.a.Cell,{collapsing:!0,children:Object(c.jsx)(A.a,{checked:-1!==(null===l||void 0===l?void 0:l.indexOf(e.id)),onClick:function(){return-1!==(null===l||void 0===l?void 0:l.indexOf(e.id))?j({type:"REMOVE_SELECT",id:e.id}):j(function(e){return{type:"ADD_SELECT",id:e}}(e.id))}})}),Object(c.jsx)(F.a.Cell,{children:e.firstname+" "+e.lastname}),Object(c.jsx)(F.a.Cell,{children:e.gender?e.gender:"-"}),Object(c.jsx)(F.a.Cell,{children:(e.prefix?e.prefix:"")+e.mobileno}),Object(c.jsx)(F.a.Cell,{children:e.nationality?e.nationality:"-"}),Object(c.jsxs)(F.a.Cell,{textAlign:"center",children:[Object(c.jsx)(G,{recordId:e.id,oldData:e}),Object(c.jsxs)(u.a,{animated:"vertical",color:"red",onClick:function(){return j({type:"DELETE_RECORD",id:e.id})},children:[Object(c.jsx)(u.a.Content,{hidden:!0,children:"Delete"}),Object(c.jsx)(u.a.Content,{visible:!0,children:Object(c.jsx)(P.a,{name:"trash"})})]})]})]},e.id)}))})]})]})}var H=n(258),z=n(27);var V=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(d.a,{children:Object(c.jsx)(H.a,{children:Object(c.jsxs)("div",{children:[Object(c.jsx)("nav",{children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)(H.b,{to:"/react-redux-kpc/",children:"Home"})}),Object(c.jsx)("li",{children:Object(c.jsx)(H.b,{to:"/react-redux-kpc/add",children:"Add"})})]})}),Object(c.jsxs)(z.c,{children:[Object(c.jsx)(z.a,{path:"/add",children:Object(c.jsx)(w,{})}),Object(c.jsx)(z.a,{path:"/",children:Object(c.jsx)(U,{})})]})]})})})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,610)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))},J=(n(553),n(28)),B=n(349),X=n(56),W={records:[{id:1,title:"Mrs.",firstname:"Michael",lastname:"Johnson",gender:"Male",prefix:"+66",mobileno:"0853757439",nationality:"Thai",birthday:"11-01-1998",salary:"20000"},{id:2,title:"Mr.",firstname:"Mike",lastname:"Johnson",gender:"Male",prefix:"+66",mobileno:"0853757466",nationality:"America",birthday:"24-07-1990",salary:"65000"}],counter:2},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_RECORD":var n=Object(s.a)({},e),c=n.counter+1,i=Object(s.a)(Object(s.a)({},t.record),{},{id:c});return{records:[].concat(Object(X.a)(e.records),[i]),counter:c};case"DELETE_RECORD":var a=t.id,r=e.records.filter((function(e){return e.id!==a}));return{records:Object(X.a)(r),counter:e.counter};case"DELETE_RECORD_MULTIPLE":var l=t.ids,d=e.records.filter((function(e){return-1===l.indexOf(e.id)}));return{records:Object(X.a)(d),counter:e.counter};case"UPDATE_RECORD":var o=Object(s.a)({},e),j=e.records.map((function(e){return e.id})).indexOf(t.record.id);return-1!==j&&(o.records[j]=Object(s.a)({},t.record)),Object(s.a)({},o);default:return e}},K={selected:[]},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SELECT":var n=Object(X.a)(e.selected);return n.push(t.id),{selected:Object(X.a)(n)};case"REMOVE_SELECT":var c=t.id,i=e.selected.filter((function(e){return e!==c}));return{selected:Object(X.a)(i)};case"ADD_SELECT_MULTIPLE":var a=[].concat(Object(X.a)(e.selected),Object(X.a)(t.ids));return{selected:Object(X.a)(new Set(a))};case"REMOVE_SELECT_MULTIPLE":var r=t.ids,l=e.selected.filter((function(e){return-1===r.indexOf(e)}));return{selected:Object(X.a)(l)};default:return e}},Y=Object(J.b)({records:Z,selected:Q,form:B.a}),$=function(){try{var e=localStorage.getItem("store");return null===e?void 0:JSON.parse(e)}catch(t){return}}(),ee=Object(J.c)(Y,$,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());ee.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("store",t)}catch(n){console.log(n.message)}}(ee.getState())})),l.a.render(Object(c.jsx)(h.a,{store:ee,children:Object(c.jsx)(V,{})}),document.getElementById("root")),q();t.default=ee}},[[554,1,2]]]);
//# sourceMappingURL=main.efdf432c.chunk.js.map